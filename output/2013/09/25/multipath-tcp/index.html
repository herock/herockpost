<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>iOS 7 里的 Multipath TCP 是什么 - Herock Post</title>
  <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
  <link rel="stylesheet" type="text/css" media="screen and (min-device-width: 320px) and (max-device-width: 1080px)" href="/stylesheets/mobile.css" />
  <link media="all and (min-device-width: 1081px)" href="/stylesheets/screen.css" rel="stylesheet" />
  <link rel="alternate" type="application/rss+xml" title="Herock Post RSS 2.0" href="/rss">
  <link rel="alternate" type="application/rss+xml" title="Herock Post RSS 2.0" href="/index.xml">
  <link rel="alternate" type="application/atom+xml" href="/atom" title="Herock Post Atom Feed"/>
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
    <meta name="description" content="看到 TualatriX 在 Blog 上发表的[一篇文章](http://imtx.me/arch..." />
    <meta name="keywords" content="" />
</head>
<body>
  <div class="container">
    <div id="header">
      <a href="/"><img src="/images/logo.png"></a>
      <span id="slogan">Blog让独处更有趣</span>
    </div>
<div class="content">
    <div class="article">
        <div class="title">
            <h1>
                
                iOS 7 里的 Multipath TCP 是什么
                
            </h1>
            <div class="meta post_meta">
                2013年09月25日 21:26
                
            </div>
            <div class="latest_entry">
                <p>看到 TualatriX 在 Blog 上发表的<a href="http://imtx.me/archives/1852.html">一篇文章</a>中提到，iOS 7 里已经应用了 Multipath TCP 这个协议，大意是说 Multipath TCP 顾名思义，是会同时使用设备可用的多条连接（比如 wifi 和 3G），目的是提供给用户最好的网络连接性能和无缝的切换体验。</p>
<p>读完吓了一跳，因为我这个月 3G 流量超了一倍还多，所以对使用 3G 流量，尤其是这种不吭一声就直接开用的做法特别敏感，后来仔细研究，才发现 iOS 7 里应该确实使用了 Multipath TCP，但目前还只限于 Sir&shy;i，也就是其它的网络连接操作，都还没有用到这种特性，还好还好。</p>
<p>如果有兴趣想自己研究一下，可以参考这篇文章下回复里提到的方法，这个方法也可以用于调试 iOS 设备的网络连接情况，挺实用的。</p>
<p>具体做法如下：</p>
<ol>
<li>
<p>安装 Xcode，并启动一次，按照提示安装相应的工具</p>
</li>
<li>
<p>用 USB 连接 iPhone，在 iTunes 里找到设备的 UDID（点击序列号就可以看到）</p>
</li>
<li>
<p>打开 Mac 的 Ter&shy;mi&shy;nal，运行：
<pre>rvictl -s [udid]</pre></p>
</li>
<li>
<p>这样就得到了一个名为 rvi0 的设备，它就是你的 iPhone 或者 iPad，想关掉它，就在 Terminal 里运行：
<pre>rvictl -x [udid]</pre></p>
</li>
<li>
<p>接下来的网络跟踪，可以参考苹果的<a href="https://developer.apple.com/library/mac/qa/qa1176/_index.html">这篇文档</a></p>
</li>
</ol>
            </div>
        </div>
    </div>
    
    
    
</div>


<div class="footer">
      
© 2004 - 2013 Herock Xia all rights reserved.<br>Gmail: herock<span class="separator"> | </span>微信：herockpost

    </div>
  </div>

  
  <script type="text/javascript">
  // retina.js, a high-resolution image swapper (http://retinajs.com), v0.0.2
  (function(){function t(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var e=typeof exports=="undefined"?window:exports;e.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external())return e(!1);if(this.at_2x_path in t.confirmed_paths)return e(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),e(!0)):e(!1)},n.send()},e.RetinaImage=n,n.prototype.swap=function(e){function n(){t.el.complete?(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",e)):setTimeout(n,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var t=this;n()},e.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})();
  </script>
</body>
</html>